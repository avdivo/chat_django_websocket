# chat_django_websocket
В данный момент доступен по адресу: avdivo.ru
Для пробы открыты пользователи: alex (пароль - 1), elena (пароль - abcd4321)

Приложение Чат. Вход по авторизации в Админ-панели Django (своей резистрации нет). 
Позволяет создавать любое количество комнат. В названии комнат допускаются латинские буквы, цифры, точки, тире.
В каждую комнату может войти неопределенное число собеседников (вход свободный).
Позволяет просматривать архив сообщений. При прокрутке вверх сообщения подгружаются автоматически.
Показывает локальное время для каждого пользователя. 
Позволяет отправлять многострочные сообщения.
Для отправленных сообщений отображается статус доставки сообщения в БД сервера (не прочтения собеседником), в виде 2-ой галочки рядом со временем.
Выход из чата осуществляется на экран выбора комнат. Выход с экрана выбора комнат на экран авторизации. Происходит разлогинивание.

Перед установкой следует убедиться что на вашей машине установлены: GIT, PIP, virtualenv, Docker

Запустить можно развернув приложение вручную или в Docker контейнере (описано ниже).


Для установки скачать репозиторий через GIT:
git clone https://github.com/avdivo/chat_django_websocket

Перейти в папку проекта:
cd chat_django_websocket/

Создать виртуальное окружение:
`virtualenv venv`

Активировать виртуальное окружение:
source venv/bin/activate

Установить зависимости:
pip install -r requirements.txt

Скачать образ Redis:
sudo docker pull redis

Запустить Redis в контейнее:
sudo docker start redis
sudo docker run --name redid redis

Запустить сервер:
python3 manage.py runserver

Запустить Celery 
(в новом терминале - открыть терминал, перейти в папку проекта, выполнить: source venv/bin/activate):
celery -A chat worker -l info

Открыть браузер и перейти по адресу:
http://127.0.0.1:8000/

В БД зарегистрированы 2 пользователя: alex (пароль - 1), elena (пароль - abcd4321)
Для редактирования и добавления пользователей зайти в панель администрирования Django под пользователем alex:
http://127.0.0.1:8000/admin/


Запуск Docker контейнере (Перед запуском следует установить Docker и Docker-compose)

Скачать репозиторий через GIT:
git clone https://github.com/avdivo/chat_django_websocket

Перейти в папку проекта:
cd chat_django_websocket/

Выполнить команду:
sudo docker-compose up

Открыть в браузере:
127.0.0.1:8000

Для остановки (остановить и удалить созданные контейнеры):
Ctrl+C
sudo docker-compose down